{"version":3,"sources":["images/Logo.png","components/Footer/Footer.tsx","images/favourites.svg","images/Cart.svg","images/search.svg","images/Union.svg","app/hooks.ts","components/Header/Header.tsx","helpers/useDebounce.tsx","helpers/SearchParams.ts","helpers/helper.tsx","components/MainSlider/MainSlider.tsx","images/favourites-added.svg","components/ProductCard/ProductCard.tsx","components/ProductSlider/ProductSlider.tsx","images/phones-banner.png","images/tablets-banner.png","images/accessories-banner.png","components/ShopCategory/ShopCategory.tsx","pages/Homepage.tsx","helpers/ScrollToTop.tsx","images/Home.svg","components/PageIndicator/PageIndicator.tsx","components/NoResults/NoResults.tsx","components/Pagination/Pagination.tsx","components/SelectTemplate/SelectTemplate.tsx","pages/ProductsPages/PhonesPage.tsx","pages/ProductsPages/TabletsPage.tsx","pages/ProductsPages/AccessoriesPage.tsx","components/NotFound/NotFound.tsx","features/productsSlice.ts","helpers/fetchClient.ts","components/api/users.ts","features/userSlice.ts","components/AuthForm/AuthForm.tsx","pages/ProductDetails/TextDescription/TextDescriptionTemplate.tsx","pages/ProductDetails/TechSpecs/TechSpecs.tsx","features/productInfoSlice.ts","pages/ProductDetails/ProductInfoDetails/ProductInfoDetails.tsx","pages/ProductDetails/AboutProduct/AboutProduct.tsx","components/Loader/Loader.tsx","components/BackToPage/BackToPage.tsx","pages/ProductDetails/ProductDetailsPage.tsx","pages/Favourites/Favourites.tsx","components/CartDescription/CartDescription.tsx","pages/CartPage/CartPage.tsx","App.tsx","app/store.ts","index.tsx"],"names":["Footer","className","to","src","logo","alt","href","target","onClick","event","preventDefault","window","scrollTo","top","behavior","useAppDispatch","useDispatch","useAppSelector","useSelector","Header","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useState","inputValue","setInputValue","favouriteCount","setFavouriteCount","cartCount","setCartCount","debouncedInputValue","setDebouncedInputValue","debouncedValue","value","delay","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","inputRef","useRef","user","state","userId","id","conditionToRender","pathname","updateCounts","favouriteItems","localStorage","getItem","cartItems","JSON","parse","length","addEventListener","removeEventListener","updatedSearchParams","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","delete","Array","isArray","part","append","set","getSearchWith","isActive","classNames","type","placeholder","substring","ref","onChange","union","current","focus","search","favorite","cart","API_URL","API_PRODUCT_URL","wait","Promise","resolve","getProductDetails","url","a","then","fetch","response","json","getProducts","data","updateSearchParams","sortProducts","products","sortBy","sort","b","year","price","name","localeCompare","MainSlider","currentSlide","setCurrentSlide","images","slideInterval","setInterval","prevSlide","clearInterval","map","image","index","classnames","active","_","ProductCard","card","isClicked","setIsClicked","isAdded","setIsAdded","favourites","favouritesArray","some","cartArray","itemId","fullPrice","screen","capacity","ram","card__button","getCartByKey","getCartByKeyArray","push","quantity","setItem","stringify","dispatchEvent","Event","getFavoritesByKey","getFavoritesByKeyArray","findIndex","splice","favouriteAdded","style","backgroundColor","ProductsSlider","React","memo","title","translateX","setTranslateX","numSlides","transform","transition","item","ShopCategory","phonesDescription","useMemo","filter","category","tabletsDescription","accessoriesDescription","phones_banner","tablets_banner","accessories_banner","Homepage","getHotPriceProducts","getBrandNewProducts","ScrollToTop","PageIndicator","productName","productType","home","toLowerCase","NoResults","Pagination","totalPages","currentPage","handlePageChange","pages","startPage","endPage","i","disabled","page","SelectTemplate","htmlFor","PhonesPage","itemsPerPage","sortPage","currentPageFromParams","Number","setCurrentPage","handleOnChange","useCallback","sortByValue","handleItemsPerPage","itemsPerPageValue","newPage","paginatePhones","phones","startIndex","parseInt","slice","filteredPhones","product","includes","paginatedProducts","Math","ceil","toUpperCase","TabletsPage","AccessoriesPage","NotFound","productsSlice","createSlice","initialState","reducers","action","payload","actions","BASE_URL","request","method","options","body","headers","ok","Error","client","getUserByEmail","email","users","createUser","userSlice","loading","error","setUser","setLoading","setError","AuthForm","dispatch","setEmail","setName","needToRegister","setNeedToRegister","errorMessage","setErrorMessage","saveUser","useLayoutEffect","userData","loadUser","handleSubmit","onSubmit","required","e","minLength","TextDescriptionTemplate","text","TechSpecs","productInfo","specs","getValueFromLabel","label","resolution","processor","camera","zoom","cell","join","spec","selectedCapacity","selectedColor","setProduct","setCapacity","setColor","ProductInfoDetails","mainImage","setMainImage","productToAdd","find","phoneId","getLocalStorageItems","items","productsToAdd","handleChangeMainImage","colorsAvailable","color","namespaceId","capacityAvailable","button","priceDiscount","priceRegular","favouriteProductToAdd","existingProduct","AboutProduct","description","Fragment","Loader","position","left","RotateLoader","size","BackToPage","navigate","useNavigate","ProductDetailsPage","isLoading","setIsLoading","productId","useParams","fetchData","random","Favoutires","retrievedData","favouritesFromStorage","favouritePhones","filteredByQueryPhones","phone","CartDescription","handleDeleteClick","updateCart","count","setCount","updatedCartArray","icon","faTimes","prev","CartPage","cartFromStorage","totalPrice","setTotalPrice","totalItems","setTotalItems","cartPhones","setCartPhones","checkout","setCheckout","timeoutId","updatedCart","newTotalPrice","reduce","sum","newTotalItems","calculateTotal","App","path","element","replace","store","configureStore","reducer","productInfoSlice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4efc124.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAYCAYAAACIhL/AAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKySURBVHgB7VWxctpAEN09bHCoaBJE4kxwl85SMhh3wX+AvyBQpgL/AZSpgv8AynSkcxeqjCFjOJepIheekE5lmAza7ElIOiGUTIoUmdGbuZnj7und7du9BSBDhgwZ/inQtOof/Rk4cj493yZYlnVMmO8CQQMRqkTkMFkC0VDK2UjnmqZZBVHoMLf5t1y1RgSTbS5aL+q0mduL+fQoLlLroBADSIEvuDqXUjpeILA/QcTSTi64Azn/fOHrnrxmQwapXAIOanWmdHOVymFvs+4sv91fRs6dHPPlxtpnDiBes7DNP6pedCpyFAdG+dEXwMIVH2ikcgFPjcoTMMoP71DsqUAOAi7rXDF/qekagLnnfJ/3e5DmDuAAwzmNwS22pZw4ngMv6x0kGPgHiy47ZwdpYtjkFq3dXOiSyJvhIQiS1sWzRcBlZ1HgcBNQ07Jqr0TaBfnARjinvW5woIK8mV566Q32tTIgsW4nuHk88oew+JKhLri5ZozLtcf1No60wNzpoGmeVpVvgSOLxae7ZARe+pLL6/xXX6PW4Zt3vcUVaYSo7nbqAkkmNf0plnY6KOW17dWRjyq/uGQxU5hS0LiMn/66wJJK+/bQJVSdJ3QBIw6Sk5piIm4PAUThnb7n1YpWAlyvUVpADPhFP5PzWZ+7AgK5De1Tm70cat8N9eBVzXEJtML7uftjvc2o521rYup1mbE9ZPsJq7F14AfgrvooVGr99G101CjFuEgtdLmFYBT8b3SH3JfbMQdjqVAvDKgX2+Pa0EWYMwH3QV/1K9XIN5cKdBrxA6knb2ajxWJ2Sy61/qArWdfrmbnK48OGV/CJ4U64sb41yk9H/LvE1it3SkGPYzfUgRfLpf1DCS2X99+Z+8Hj+v3JCLkC2/yaw38H5t6GuttcX/dNoJshQ4b/Hb8AfRtUwmKpBawAAAAASUVORK5CYII=\"","import { Link } from 'react-router-dom';\nimport logo from '../../images/Logo.png';\nimport './Footer.scss';\n\nexport const Footer = () => {\n  function scrollToTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        <div className=\"footer__logo-link\">\n          <Link className=\"footer__link\" to=\"home\">\n            <img src={logo} alt=\"logo\" />\n          </Link>\n        </div>\n        <div className=\"footer__links\">\n          <a\n            className=\"footer__link\"\n            href=\"https://github.com/Blenemy\"\n            target=\"blank\"\n          >\n            Github\n          </a>\n          <a\n            className=\"footer__link\"\n            href=\"https://github.com/Blenemy\"\n            target=\"blank\"\n          >\n            Contacts\n          </a>\n          <a\n            className=\"footer__link\"\n            href=\"https://github.com/Blenemy\"\n            target=\"blank\"\n          >\n            Rights\n          </a>\n        </div>\n        <div className=\"footer__back-to-top\">\n          <a\n            className=\"footer__link_back-to-top\"\n            href=\"/\"\n            onClick={(event) => {\n              event.preventDefault();\n              scrollToTop();\n            }}\n          >\n            Back to top\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/favourites.3639e3e4.svg\";","export default __webpack_public_path__ + \"static/media/Cart.08d4be14.svg\";","export default __webpack_public_path__ + \"static/media/search.66a1fd86.svg\";","export default __webpack_public_path__ + \"static/media/Union.2063b2da.svg\";","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { useState, useEffect, useRef } from 'react';\nimport classNames from 'classnames';\nimport { Link, NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport { useDebounce } from '../../helpers/useDebounce';\nimport { getSearchWith } from '../../helpers/SearchParams';\nimport favorite from '../../images/favourites.svg';\nimport cart from '../../images/Cart.svg';\nimport logo from '../../images/Logo.png';\nimport search from '../../images/search.svg';\nimport union from '../../images/Union.svg';\nimport './Header.scss';\nimport { useAppSelector } from '../../app/hooks';\n\nexport const Header = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n  const [inputValue, setInputValue] = useState(query || '');\n  const [favouriteCount, setFavouriteCount] = useState(0);\n  const [cartCount, setCartCount] = useState(0);\n  const [debouncedInputValue, setDebouncedInputValue] = useState(inputValue);\n  const debouncedValue = useDebounce(debouncedInputValue, 300);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n\n  const conditionToRender =\n    location.pathname === '/favourites' ||\n    location.pathname === '/phones' ||\n    location.pathname === '/tablets' ||\n    location.pathname === '/accessories';\n\n  const handleInputChange = (value: string) => {\n    setInputValue(value);\n    setDebouncedInputValue(value);\n  };\n\n  const handleSearchClick = () => {\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  };\n\n  const handleButtonClick = () => {\n    setInputValue('');\n    searchParams.delete('query');\n    setSearchParams(new URLSearchParams(searchParams.toString()));\n  };\n\n  useEffect(() => {\n    const updateCounts = () => {\n      const favouriteItems = localStorage.getItem(`favourites-${userId}`);\n      const cartItems = localStorage.getItem(`cart-${userId}`);\n\n      if (favouriteItems !== null) {\n        setFavouriteCount(JSON.parse(favouriteItems).length);\n      }\n\n      if (cartItems !== null) {\n        setCartCount(JSON.parse(cartItems).length);\n      }\n    };\n\n    updateCounts();\n\n    window.addEventListener('favouritesUpdated', updateCounts);\n    window.addEventListener('cartUpdated', updateCounts);\n\n    return () => {\n      window.removeEventListener('favouritesUpdated', updateCounts);\n      window.removeEventListener('cartUpdated', updateCounts);\n    };\n  }, []);\n\n  useEffect(() => {\n    setInputValue(query || '');\n  }, [query]);\n\n  useEffect(() => {\n    const updatedSearchParams = getSearchWith(searchParams, {\n      query: debouncedValue || null,\n    });\n\n    setSearchParams(new URLSearchParams(updatedSearchParams));\n  }, [debouncedValue]);\n\n  return (\n    <header className=\"homepage-header\">\n      <nav className=\"navigation-header bg-red-200\">\n        <div className=\"navigation-header__left\">\n          <ul className=\"navigation-header__list navigation-header__list_left\">\n            <li className=\"navigation-header__item logo\">\n              <Link to=\"home\" className=\"navigation-header__link\">\n                <img\n                  className=\"navigation-header__image\"\n                  src={logo}\n                  alt=\"logo\"\n                />\n              </Link>\n            </li>\n            <li className=\"navigation-header__item_l\">\n              <NavLink\n                to=\"/\"\n                className={({ isActive }) =>\n                  classNames('navigation-header__link', {\n                    'is-active-link': isActive,\n                  })\n                }\n              >\n                Home\n              </NavLink>\n            </li>\n            <li className=\"navigation-header__item_l\">\n              <NavLink\n                to=\"/phones\"\n                className={({ isActive }) =>\n                  classNames('navigation-header__link', {\n                    'is-active-link': isActive,\n                  })\n                }\n              >\n                Phones\n              </NavLink>\n            </li>\n            <li className=\"navigation-header__item_l\">\n              <NavLink\n                to=\"/tablets\"\n                className={({ isActive }) =>\n                  classNames('navigation-header__link', {\n                    'is-active-link': isActive,\n                  })\n                }\n              >\n                Tablets\n              </NavLink>\n            </li>\n            <li className=\"navigation-header__item_l\">\n              <NavLink\n                to=\"/accessories\"\n                className={({ isActive }) =>\n                  classNames('navigation-header__link', {\n                    'is-active-link': isActive,\n                  })\n                }\n              >\n                Accessories\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <div className=\"navigation-header__right\">\n          <ul className=\"navigation-header__list navigation-header__list_right\">\n            {conditionToRender && (\n              <li\n                className={classNames({\n                  'navigation-header__item': true,\n                  'navigation-header__item_input': true,\n                })}\n              >\n                <input\n                  data-cy=\"NameFilter\"\n                  type=\"text\"\n                  className=\"navigation-header__input\"\n                  placeholder={`Search in ${location.pathname.substring(1)}...`}\n                  value={inputValue}\n                  ref={inputRef}\n                  onChange={(event) => {\n                    handleInputChange(event.target.value);\n                  }}\n                />\n                {inputValue ? (\n                  <button\n                    className=\"navigation-header__clear-button input-button\"\n                    onClick={handleButtonClick}\n                    type=\"button\"\n                  >\n                    <img src={union} alt=\"clearButton\" />\n                  </button>\n                ) : (\n                  <button\n                    className=\"navigation-header__search-button input-button\"\n                    onClick={handleSearchClick}\n                    type=\"button\"\n                  >\n                    <img src={search} alt=\"search\" />\n                  </button>\n                )}\n              </li>\n            )}\n            <li className=\"navigation-header__item\">\n              <Link to=\"/favourites\" className=\"navigation-header__link\">\n                <img\n                  className=\"navigation-header__image\"\n                  src={favorite}\n                  alt=\"favorites\"\n                />\n              </Link>\n              <div className=\"navigation-header__count\">{favouriteCount}</div>\n            </li>\n            <li className=\"navigation-header__item\">\n              <Link to=\"/cart\" className=\"navigation-header__link\">\n                <img\n                  className=\"navigation-header__image\"\n                  src={cart}\n                  alt=\"cart\"\n                />\n              </Link>\n              <div className=\"navigation-header__count\">{cartCount}</div>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    </header>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n","export type SearchParams = {\n  [key: string]: string | string[] | null;\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(currentParams.toString());\n\n  Object.entries(paramsToUpdate).forEach(([key, value]) => {\n    if (value === null) {\n      newParams.delete(key);\n    } else if (Array.isArray(value)) {\n      newParams.delete(key);\n\n      value.forEach((part) => {\n        newParams.append(key, part);\n      });\n    } else {\n      newParams.set(key, value);\n    }\n  });\n\n  return newParams.toString();\n}\n","import { ProductDetails } from '../types/ProductDetails';\nimport { Product } from '../types/Products';\nimport { SortOption } from '../types/SortOption';\n\nexport const API_URL =\n  'https://mate-academy.github.io/react_phone-catalog/_new/products.json';\nexport const API_PRODUCT_URL =\n  'https://mate-academy.github.io/react_phone-catalog/_new/';\n\nfunction wait(delay: number) {\n  return new Promise((resolve) => setTimeout(resolve, delay));\n}\n\nexport async function getProductDetails(url: string): Promise<ProductDetails> {\n  return wait(500)\n    .then(() => fetch(url))\n    .then((response) => response.json());\n}\n\nexport async function getProducts(data: string): Promise<Product[]> {\n  return wait(500)\n    .then(() => fetch(data))\n    .then((response) => response.json());\n}\n\nexport const updateSearchParams = (\n  searchParams: URLSearchParams,\n  newParams: Record<string, string>,\n) => {\n  Object.entries(newParams).forEach(([key, value]) => {\n    searchParams.set(key, value);\n  });\n\n  return new URLSearchParams(searchParams.toString());\n};\n\nexport const sortProducts = (\n  products: Product[],\n  sortBy: SortOption,\n): Product[] => {\n  switch (sortBy) {\n    case 'age':\n      return [...products].sort((a, b) => +b.year - +a.year);\n    case 'price':\n      return [...products].sort((a, b) => a.price - b.price);\n    case 'name':\n      return [...products].sort((a, b) => a.name.localeCompare(b.name));\n    default:\n      return products;\n  }\n};\n","import { useState, useEffect } from 'react';\nimport classnames from 'classnames';\nimport { API_PRODUCT_URL } from '../../helpers/helper';\nimport './MainSlider.scss';\n\nexport const MainSlider: React.FC = () => {\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  const handleLeftClick = () => {\n    setCurrentSlide((prevSlide) => (prevSlide === 0 ? 2 : prevSlide - 1));\n  };\n\n  const handleRightClick = () => {\n    setCurrentSlide((prevSlide) => (prevSlide === 2 ? 0 : prevSlide + 1));\n  };\n\n  const images = [\n    `${API_PRODUCT_URL}img/banner-phones.png`,\n    `${API_PRODUCT_URL}img/banner-tablets.png`,\n    `${API_PRODUCT_URL}img/banner-accessories.png`,\n  ];\n\n  useEffect(() => {\n    const slideInterval = setInterval(() => {\n      setCurrentSlide((prevSlide) => (prevSlide === 2 ? 0 : prevSlide + 1));\n    }, 5000);\n\n    return () => {\n      clearInterval(slideInterval);\n    };\n  }, [currentSlide]);\n\n  return (\n    <>\n      <section className=\"main-slider\">\n        <button\n          type=\"button\"\n          className=\"main-slider__button slider__button_l\"\n          onClick={handleLeftClick}\n        >\n          &lt;\n        </button>\n        <div className=\"main-slider__container\">\n          <ul className=\"main-slider__list\">\n            {images.map((image, index) => (\n              <li\n                key={image}\n                className={classnames('main-slider__item', {\n                  active: index === currentSlide,\n                })}\n              >\n                <img src={image} alt=\"\" className=\"main-slider__img\" />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <button\n          type=\"button\"\n          className=\"main-slider__button main-slider__button_r\"\n          onClick={handleRightClick}\n        >\n          &gt;\n        </button>\n        <div className=\"main-slider__indicators\">\n          {images.map((_, index) => (\n            // eslint-disable-next-line\n            <button\n              type=\"button\"\n              key={_}\n              className={classnames('main-slider__count', {\n                active: index === currentSlide,\n              })}\n              onClick={() => setCurrentSlide(index)}\n            />\n          ))}\n        </div>\n      </section>\n    </>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/favourites-added.d1cb0efa.svg\";","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Product } from '../../types/Products';\nimport './ProductCard.scss';\nimport { API_PRODUCT_URL } from '../../helpers/helper';\nimport favorite from '../../images/favourites.svg';\nimport favouriteAdded from '../../images/favourites-added.svg';\nimport { useAppSelector } from '../../app/hooks';\n\ntype Props = {\n  card: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ card }) => {\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n  const [isClicked, setIsClicked] = useState(false);\n  const [isAdded, setIsAdded] = useState(false);\n\n  useEffect(() => {\n    const favourites = localStorage.getItem(`favourites-${userId}`);\n    const favouritesArray = favourites ? JSON.parse(favourites) : [];\n\n    setIsAdded(favouritesArray.some(({ id }: Product) => id === card.id));\n\n    const cartItems = localStorage.getItem(`cart-${userId}`);\n    const cartArray = cartItems ? JSON.parse(cartItems) : [];\n\n    setIsClicked(cartArray.some(({ id }: Product) => id === card.id));\n  }, [card]);\n\n  const saveFavouritesOnClick = () => {\n    const getFavoritesByKey = localStorage.getItem(`favourites-${userId}`);\n    const getFavoritesByKeyArray = getFavoritesByKey\n      ? JSON.parse(getFavoritesByKey)\n      : [];\n\n    const index = getFavoritesByKeyArray.findIndex(\n      ({ id }: Product) => id === card.id,\n    );\n\n    if (index === -1) {\n      getFavoritesByKeyArray.push(card);\n      setIsAdded(true);\n    } else {\n      getFavoritesByKeyArray.splice(index, 1);\n      setIsAdded(false);\n    }\n\n    localStorage.setItem(\n      `favourites-${userId}`,\n      JSON.stringify(getFavoritesByKeyArray),\n    );\n    window.dispatchEvent(new Event('favouritesUpdated'));\n  };\n\n  const saveCartOnClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event?.preventDefault();\n\n    const getCartByKey = localStorage.getItem(`cart-${userId}`);\n    const getCartByKeyArray = getCartByKey ? JSON.parse(getCartByKey) : [];\n\n    if (!getCartByKeyArray.some(({ id }: Product) => id === card.id)) {\n      getCartByKeyArray.push({ ...card, quantity: 1 });\n      setIsClicked(true);\n    }\n\n    localStorage.setItem(`cart-${userId}`, JSON.stringify(getCartByKeyArray));\n    window.dispatchEvent(new Event('cartUpdated'));\n  };\n\n  return (\n    <div data-cy=\"cardsContainer\" className=\"card\">\n      <Link to={`/phones/${card.itemId}`} className=\"card__image\">\n        <img\n          src={API_PRODUCT_URL + card.image}\n          alt={card.name}\n          className=\"card__img\"\n        />\n      </Link>\n      <div className=\"card__body\">\n        <div className=\"card__title\">{card.name}</div>\n        <div className=\"card__prices prices\">\n          <div className=\"prices__discount\">${card.price}</div>\n          <div className=\"prices__full-price\">${card.fullPrice}</div>\n        </div>\n        <div className=\"card__description\">\n          <div className=\"card__screen card-screen\">\n            <div className=\"card-screen__left\">Screen:</div>\n            <div className=\"card-screen__right\">{card.screen}</div>\n          </div>\n          <div className=\"card__capacity card-capacity\">\n            <div className=\"card-capacity__left\">Capacity:</div>\n            <div className=\"card-capacity__right\">{card.capacity}</div>\n          </div>\n          <div className=\"card__ram card-ram\">\n            <div className=\"card-ram__left\">RAM:</div>\n            <div className=\"card-ram__right\">{card.ram}</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"card__footer\">\n        <button\n          type=\"button\"\n          className={classNames({\n            card__button: true,\n            'card-button-template': true,\n            'is-active': isClicked,\n          })}\n          onClick={saveCartOnClick}\n        >\n          {isClicked ? 'Added to cart' : 'Add to cart'}\n        </button>\n        <button\n          type=\"button\"\n          className=\"card-button-template__like\"\n          onClick={saveFavouritesOnClick}\n          data-cy=\"addToFavorite\"\n        >\n          <img\n            src={isAdded ? favouriteAdded : favorite}\n            style={{\n              backgroundColor: '#fff',\n            }}\n            alt=\"favourite\"\n            className=\"card-button-template__favourite\"\n          />\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { Product } from '../../types/Products';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductSlider.scss';\n\ntype Props = {\n  products: Product[];\n  title: string;\n};\n\nexport const ProductsSlider = React.memo(({ title, products }: Props) => {\n  const [translateX, setTranslateX] = useState(0);\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const slideWidth = 288;\n  const numSlides = products.length;\n  const maxSlidesToShow = 4;\n\n  const nextSlide = () => {\n    if (currentSlide < numSlides - maxSlidesToShow) {\n      setCurrentSlide(currentSlide + 1);\n      setTranslateX(translateX - slideWidth);\n    }\n  };\n\n  const prevSlide = () => {\n    if (currentSlide > 0) {\n      setCurrentSlide(currentSlide - 1);\n      setTranslateX(translateX + slideWidth);\n    }\n  };\n\n  return (\n    <div className=\"product-slider\">\n      <div className=\"product-slider__header\">\n        <div className=\"product-slider__title\">{title}</div>\n        <div className=\"product-slider__buttons\">\n          <button\n            type=\"button\"\n            className=\"product-slider__prev product-slider__button\"\n            onClick={prevSlide}\n          >\n            &lt;\n          </button>\n          <button\n            type=\"button\"\n            className=\"product-slider__next product-slider__button\"\n            onClick={nextSlide}\n          >\n            &gt;\n          </button>\n        </div>\n      </div>\n      <div className=\"product-slider__slider-container\">\n        <div\n          className=\"product-slider__row\"\n          style={{\n            transform: `translateX(${translateX}px)`,\n            transition: 'transform ease-out 0.45s',\n          }}\n        >\n          {products.map((item) => (\n            <ProductCard card={item} key={item.id} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n","export default __webpack_public_path__ + \"static/media/phones-banner.76a1b179.png\";","export default __webpack_public_path__ + \"static/media/tablets-banner.3131a36e.png\";","export default __webpack_public_path__ + \"static/media/accessories-banner.f97da0dc.png\";","import { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport phones_banner from '../../images/phones-banner.png';\nimport tablets_banner from '../../images/tablets-banner.png';\nimport accessories_banner from '../../images/accessories-banner.png';\nimport './ShopCategory.scss';\nimport { useAppSelector } from '../../app/hooks';\n\nexport const ShopCategory = () => {\n  const { products } = useAppSelector((state) => state.products);\n  const phonesDescription = useMemo(\n    () => [...products].filter((item) => item.category === 'phones'),\n    [products],\n  );\n  const tabletsDescription = useMemo(\n    () => [...products].filter((item) => item.category === 'tablets'),\n    [products],\n  );\n  const accessoriesDescription = useMemo(\n    () => [...products].filter((item) => item.category === 'accessories'),\n    [products],\n  );\n\n  return (\n    <div data-cy=\"categoryLinksContainer\" className=\"shop-category\">\n      <div className=\"shop-category__container\">\n        <div className=\"shop-category__title\">Shop by category</div>\n        <div className=\"shop-category__row\">\n          <div className=\"shop-category__item item-shop-category\">\n            <Link to=\"/phones\" className=\"item-shop-category__image\">\n              <img\n                src={phones_banner}\n                alt=\"BannerImage\"\n                className=\"item-shop-category__img\"\n              />\n            </Link>\n            <div className=\"item-shop-category__body\">\n              <div className=\"item-shop-category__title\">Mobile phones</div>\n              <div className=\"item-shop-category__description\">\n                {phonesDescription.length} models\n              </div>\n            </div>\n          </div>\n          <div className=\"shop-category__item item-shop-category\">\n            <Link to=\"/tablets\" className=\"item-shop-category__image\">\n              <img\n                src={tablets_banner}\n                alt=\"TabletsBannerImage\"\n                className=\"item-shop-category__img\"\n              />\n            </Link>\n            <div className=\"item-shop-category__body\">\n              <div className=\"item-shop-category__title\">Tablets</div>\n              <div className=\"item-shop-category__description\">\n                {tabletsDescription.length} models\n              </div>\n            </div>\n          </div>\n          <div className=\"shop-category__item item-shop-category\">\n            <Link to=\"/accessories\" className=\"item-shop-category__image\">\n              <img\n                src={accessories_banner}\n                alt=\"AccessoriesBannerImage\"\n                className=\"item-shop-category__img\"\n              />\n            </Link>\n            <div className=\"item-shop-category__body\">\n              <div className=\"item-shop-category__title\">Accessories</div>\n              <div className=\"item-shop-category__description\">\n                {accessoriesDescription.length} models\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useMemo } from 'react';\nimport { useAppSelector } from '../app/hooks';\nimport { MainSlider } from '../components/MainSlider/MainSlider';\nimport { ProductsSlider } from '../components/ProductSlider/ProductSlider';\nimport { ShopCategory } from '../components/ShopCategory/ShopCategory';\n\nexport const Homepage: React.FC = () => {\n  const { products } = useAppSelector((state) => state.products);\n  const getHotPriceProducts = useMemo(() => {\n    return [...products].sort(\n      (a, b) => b.fullPrice - b.price - (a.fullPrice - a.price),\n    );\n  }, [products]);\n\n  const getBrandNewProducts = useMemo(() => {\n    return [...products].sort((a, b) => b.price - a.price);\n  }, [products]);\n\n  return (\n    <main className=\"homepage\">\n      <div className=\"homepage__content\">\n        <MainSlider />\n        <ProductsSlider products={getHotPriceProducts} title=\"Hot prices\" />\n        <ShopCategory />\n        <ProductsSlider\n          products={getBrandNewProducts}\n          title=\"Brand new models\"\n        />\n      </div>\n    </main>\n  );\n};\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport const ScrollToTop: React.FC = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [pathname]);\n\n  return null;\n};\n","export default __webpack_public_path__ + \"static/media/Home.e110292a.svg\";","import { Link } from 'react-router-dom';\nimport home from '../../images/Home.svg';\nimport './PageIndicator.scss';\n\ntype Props = {\n  productName?: string;\n  productType: string;\n};\n\nexport const PageIndicator: React.FC<Props> = ({\n  productName,\n  productType,\n}) => {\n  return (\n    <div\n      data-cy=\"breadCrumbs\"\n      className=\"phones-page__indicator indicator-name\"\n    >\n      <div className=\"indicator-name__image\">\n        <Link to=\"/\">\n          <img src={home} alt=\"home\" className=\"indicator-name__img\" />\n        </Link>\n      </div>\n      <div className=\"indicator-name__arrow\">&lt;</div>\n      <Link\n        to={`/${productType.toLowerCase()}`}\n        className=\"indicator-name__title\"\n      >\n        {productType}\n      </Link>\n      {productName && (\n        <>\n          <div className=\"indicator-name__arrow\">&lt;</div>\n          <div className=\"indicator-name__title\">{productName}</div>\n        </>\n      )}\n    </div>\n  );\n};\n","import './NoResults.scss';\n\nexport const NoResults: React.FC<{ category: string }> = ({ category }) => {\n  return (\n    <div className=\"results-not-found bg-blue-500\">\n      {category === 'cart' ? 'Your cart is empty' : `${category} not found`}\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport './Pagination.scss';\n\ntype Props = {\n  totalPages: number;\n  currentPage: number;\n  handlePageChange: (newPage: number) => void;\n  category: string;\n};\n\nexport const Pagination: React.FC<Props> = ({\n  totalPages,\n  currentPage,\n  handlePageChange,\n  category,\n}) => {\n  const maxPagesToShow = 4;\n  const pages = [];\n\n  let startPage = currentPage - 1;\n  let endPage = currentPage + 1;\n\n  if (currentPage <= 3) {\n    startPage = 1;\n    endPage = startPage + maxPagesToShow;\n  } else if (currentPage >= totalPages - 2) {\n    endPage = totalPages;\n    startPage = endPage - maxPagesToShow;\n  }\n\n  if (startPage > 2) {\n    pages.push(1, '...');\n  } else {\n    pages.push(1, 2);\n  }\n\n  for (let i = startPage; i <= endPage; i += 1) {\n    if (i !== 1 && i !== 2) {\n      pages.push(i);\n    }\n  }\n\n  if (endPage < totalPages - 1) {\n    pages.push('...', totalPages);\n  } else if (endPage === totalPages - 1) {\n    pages.push(totalPages);\n  }\n\n  return (\n    <div\n      data-cy=\"pagination\"\n      className={`${category}-page__pagination pagination`}\n    >\n      <button\n        type=\"button\"\n        onClick={() => handlePageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n        className=\"pagination__button pagination_button_l\"\n        data-cy=\"paginationLeft\"\n      >\n        &lt;\n      </button>\n\n      {pages.map((page, index) =>\n        typeof page === 'number' ? (\n          <button\n            type=\"button\"\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${page}_${index}`}\n            onClick={() => handlePageChange(page)}\n            className={classNames('pagination__button', {\n              active: currentPage === page,\n            })}\n          >\n            {page}\n          </button>\n        ) : (\n          <div\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${page}_${index}`}\n            className=\"dots\"\n          >\n            ...\n          </div>\n        ),\n      )}\n\n      <button\n        type=\"button\"\n        onClick={() => handlePageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n        className=\"pagination__button pagination_button_r\"\n        data-cy=\"paginationRight\"\n      >\n        &gt;\n      </button>\n    </div>\n  );\n};\n","import { ItemsPerPage } from '../../types/ItemsPerPage';\nimport { SortOption } from '../../types/SortOption';\nimport './SelectTemplate.scss';\n\ntype Props = {\n  category: string;\n  onChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n  value: SortOption | ItemsPerPage;\n  sortBy: string;\n};\n\nexport const SelectTemplate: React.FC<Props> = ({\n  category,\n  onChange,\n  value,\n  sortBy,\n}) => {\n  if (sortBy === 'age') {\n    return (\n      <div className={`${category}-page__sort-by`}>\n        <label className={`${category}-page__label`} htmlFor=\"sort-by\">\n          Sort by:\n        </label>\n        <select\n          className={`${category}-page__select`}\n          id=\"sort-by\"\n          name=\"sort-by\"\n          onChange={onChange}\n          value={value}\n        >\n          <option value=\"age\">Newest</option>\n          <option value=\"price\">Cheapest</option>\n          <option value=\"name\">Alphabetically</option>\n        </select>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${category}-page__items-per-page`}>\n      <label className={`${category}-page__label`} htmlFor=\"items-per-page\">\n        Items per page:\n      </label>\n      <select\n        className={`${category}-page__select`}\n        id=\"items-per-page\"\n        name=\"items-per-page\"\n        onChange={onChange}\n        value={value}\n      >\n        <option value=\"4\">4</option>\n        <option value=\"8\">8</option>\n        <option value=\"16\">16</option>\n        <option value=\"All\">All</option>\n      </select>\n    </div>\n  );\n};\n","import { useEffect, useState, useCallback, useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { updateSearchParams, sortProducts } from '../../helpers/helper';\nimport { useAppSelector } from '../../app/hooks';\nimport { Product } from '../../types/Products';\nimport { SortOption } from '../../types/SortOption';\nimport { ItemsPerPage } from '../../types/ItemsPerPage';\nimport { ProductCard } from '../../components/ProductCard/ProductCard';\nimport { PageIndicator } from '../../components/PageIndicator/PageIndicator';\nimport './ProductPage.scss';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { SelectTemplate } from '../../components/SelectTemplate/SelectTemplate';\n\nexport const PhonesPage: React.FC = () => {\n  const category = 'phones';\n  const { products } = useAppSelector((state) => state.products);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const itemsPerPage = (searchParams.get('perPage') as ItemsPerPage) || '4';\n  const sortPage = (searchParams.get('sort') as SortOption) || 'age';\n  const query = searchParams.get('query');\n  const currentPageFromParams = Number(searchParams.get('page') || '1');\n  const [currentPage, setCurrentPage] = useState(currentPageFromParams);\n\n  const handleOnChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const sortByValue = event.target.value;\n\n      searchParams.set('sort', sortByValue);\n      setSearchParams(searchParams);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handleItemsPerPage = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const itemsPerPageValue = event.target.value;\n\n      searchParams.set('perPage', itemsPerPageValue);\n      searchParams.set('page', '1');\n\n      setSearchParams(searchParams);\n      setCurrentPage(1);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handlePageChange = useCallback(\n    (newPage: number) => {\n      setCurrentPage(newPage);\n      setSearchParams(\n        updateSearchParams(searchParams, {\n          page: newPage.toString(),\n        }),\n      );\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const paginatePhones = useCallback(\n    (phones: Product[]) => {\n      if (itemsPerPage === 'All') {\n        return phones;\n      }\n\n      const startIndex = (currentPage - 1) * parseInt(itemsPerPage, 10);\n\n      return phones.slice(startIndex, startIndex + parseInt(itemsPerPage, 10));\n    },\n    [itemsPerPage, currentPage],\n  );\n\n  const filteredPhones = useMemo(\n    () =>\n      products.filter(\n        (product) =>\n          product.category === category &&\n          (query === null ||\n            query === '' ||\n            product.name.toLowerCase().includes(query.toLowerCase())),\n      ),\n    [products, query, category],\n  );\n\n  const product = useMemo(\n    () =>\n      sortProducts(\n        filteredPhones,\n        (searchParams.get('sort') as SortOption) || 'age',\n      ),\n    [filteredPhones, searchParams],\n  );\n\n  const paginatedProducts = useMemo(\n    () => paginatePhones(product),\n    [paginatePhones, product],\n  );\n\n  const totalPages = useMemo(\n    () =>\n      itemsPerPage === 'All'\n        ? 1\n        : Math.ceil(product.length / parseInt(itemsPerPage, 10)),\n    [itemsPerPage, product],\n  );\n\n  useEffect(() => {\n    if (!searchParams.get('sort')) {\n      setSearchParams(updateSearchParams(searchParams, { sort: 'age' }));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (currentPage !== currentPageFromParams) {\n      setCurrentPage(currentPageFromParams);\n    }\n  }, [currentPageFromParams]);\n\n  return (\n    <main className={`${category}-page`}>\n      <div className={`${category}-page__container`}>\n        <PageIndicator productType={category} />\n        <h1 className={`${category}-page__title`}>\n          {category.slice(0, 1).toUpperCase() + category.slice(1)}\n        </h1>\n        <p\n          className={`${category}-page__subtitle`}\n        >{`${product.length} models`}</p>\n        {product.length > 0 ? (\n          <>\n            <div className={`${category}-page__navigation-filter`}>\n              <SelectTemplate\n                category={category}\n                onChange={handleOnChange}\n                value={sortPage}\n                sortBy=\"age\"\n              />\n              <SelectTemplate\n                category={category}\n                onChange={handleItemsPerPage}\n                value={itemsPerPage}\n                sortBy=\"page\"\n              />\n            </div>\n            <div data-cy=\"productList\" className={`${category}-page__row`}>\n              {paginatedProducts?.map((item) => (\n                <ProductCard key={item.id} card={item} />\n              ))}\n            </div>\n\n            {itemsPerPage !== 'All' && (\n              <Pagination\n                totalPages={totalPages}\n                currentPage={currentPage}\n                handlePageChange={handlePageChange}\n                category={category}\n              />\n            )}\n          </>\n        ) : (\n          <NoResults category={category} />\n        )}\n      </div>\n    </main>\n  );\n};\n","import { useEffect, useState, useCallback, useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { updateSearchParams, sortProducts } from '../../helpers/helper';\nimport { useAppSelector } from '../../app/hooks';\nimport { Product } from '../../types/Products';\nimport { SortOption } from '../../types/SortOption';\nimport { ItemsPerPage } from '../../types/ItemsPerPage';\nimport { ProductCard } from '../../components/ProductCard/ProductCard';\nimport { PageIndicator } from '../../components/PageIndicator/PageIndicator';\nimport './ProductPage.scss';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { SelectTemplate } from '../../components/SelectTemplate/SelectTemplate';\n\nexport const TabletsPage: React.FC = () => {\n  const category = 'tablets';\n  const { products } = useAppSelector((state) => state.products);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const itemsPerPage = (searchParams.get('perPage') as ItemsPerPage) || '4';\n  const sortPage = (searchParams.get('sort') as SortOption) || 'age';\n  const query = searchParams.get('query');\n  const currentPageFromParams = Number(searchParams.get('page') || '1');\n  const [currentPage, setCurrentPage] = useState(currentPageFromParams);\n\n  const handleOnChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const sortByValue = event.target.value;\n\n      searchParams.set('sort', sortByValue);\n      setSearchParams(searchParams);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handleItemsPerPage = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const itemsPerPageValue = event.target.value;\n\n      searchParams.set('perPage', itemsPerPageValue);\n      searchParams.set('page', '1');\n\n      setSearchParams(searchParams);\n      setCurrentPage(1);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handlePageChange = useCallback(\n    (newPage: number) => {\n      setCurrentPage(newPage);\n      setSearchParams(\n        updateSearchParams(searchParams, {\n          page: newPage.toString(),\n        }),\n      );\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const paginatePhones = useCallback(\n    (phones: Product[]) => {\n      if (itemsPerPage === 'All') {\n        return phones;\n      }\n\n      const startIndex = (currentPage - 1) * parseInt(itemsPerPage, 10);\n\n      return phones.slice(startIndex, startIndex + parseInt(itemsPerPage, 10));\n    },\n    [itemsPerPage, currentPage],\n  );\n\n  const filteredPhones = useMemo(\n    () =>\n      products.filter(\n        (product) =>\n          product.category === category &&\n          (query === null ||\n            query === '' ||\n            product.name.toLowerCase().includes(query.toLowerCase())),\n      ),\n    [products, query, category],\n  );\n\n  const product = useMemo(\n    () =>\n      sortProducts(\n        filteredPhones,\n        (searchParams.get('sort') as SortOption) || 'age',\n      ),\n    [filteredPhones, searchParams],\n  );\n\n  const paginatedProducts = useMemo(\n    () => paginatePhones(product),\n    [paginatePhones, product],\n  );\n\n  const totalPages = useMemo(\n    () =>\n      itemsPerPage === 'All'\n        ? 1\n        : Math.ceil(product.length / parseInt(itemsPerPage, 10)),\n    [itemsPerPage, product],\n  );\n\n  useEffect(() => {\n    if (!searchParams.get('sort')) {\n      setSearchParams(updateSearchParams(searchParams, { sort: 'age' }));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (currentPage !== currentPageFromParams) {\n      setCurrentPage(currentPageFromParams);\n    }\n  }, [currentPageFromParams]);\n\n  return (\n    <main className={`${category}-page`}>\n      <div className={`${category}-page__container`}>\n        <PageIndicator productType={category} />\n        <h1 className={`${category}-page__title`}>\n          {category.slice(0, 1).toUpperCase() + category.slice(1)}\n        </h1>\n        <p\n          className={`${category}-page__subtitle`}\n        >{`${product.length} models`}</p>\n        {product.length > 0 ? (\n          <>\n            <div className={`${category}-page__navigation-filter`}>\n              <SelectTemplate\n                category={category}\n                onChange={handleOnChange}\n                value={sortPage}\n                sortBy=\"age\"\n              />\n              <SelectTemplate\n                category={category}\n                onChange={handleItemsPerPage}\n                value={itemsPerPage}\n                sortBy=\"page\"\n              />\n            </div>\n            <div data-cy=\"productList\" className={`${category}-page__row`}>\n              {paginatedProducts?.map((item) => (\n                <ProductCard key={item.id} card={item} />\n              ))}\n            </div>\n\n            {itemsPerPage !== 'All' && (\n              <Pagination\n                totalPages={totalPages}\n                currentPage={currentPage}\n                handlePageChange={handlePageChange}\n                category={category}\n              />\n            )}\n          </>\n        ) : (\n          <NoResults category={category} />\n        )}\n      </div>\n    </main>\n  );\n};\n","import { useEffect, useState, useCallback, useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { updateSearchParams, sortProducts } from '../../helpers/helper';\nimport { useAppSelector } from '../../app/hooks';\nimport { Product } from '../../types/Products';\nimport { SortOption } from '../../types/SortOption';\nimport { ItemsPerPage } from '../../types/ItemsPerPage';\nimport { ProductCard } from '../../components/ProductCard/ProductCard';\nimport { PageIndicator } from '../../components/PageIndicator/PageIndicator';\nimport './ProductPage.scss';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { SelectTemplate } from '../../components/SelectTemplate/SelectTemplate';\n\nexport const AccessoriesPage: React.FC = () => {\n  const category = 'accessories';\n  const { products } = useAppSelector((state) => state.products);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const itemsPerPage = (searchParams.get('perPage') as ItemsPerPage) || '4';\n  const sortPage = (searchParams.get('sort') as SortOption) || 'age';\n  const query = searchParams.get('query');\n  const currentPageFromParams = Number(searchParams.get('page') || '1');\n  const [currentPage, setCurrentPage] = useState(currentPageFromParams);\n\n  const handleOnChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const sortByValue = event.target.value;\n\n      searchParams.set('sort', sortByValue);\n      setSearchParams(searchParams);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handleItemsPerPage = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const itemsPerPageValue = event.target.value;\n\n      searchParams.set('perPage', itemsPerPageValue);\n      searchParams.set('page', '1');\n\n      setSearchParams(searchParams);\n      setCurrentPage(1);\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const handlePageChange = useCallback(\n    (newPage: number) => {\n      setCurrentPage(newPage);\n      setSearchParams(\n        updateSearchParams(searchParams, {\n          page: newPage.toString(),\n        }),\n      );\n    },\n    [searchParams, setSearchParams],\n  );\n\n  const paginatePhones = useCallback(\n    (phones: Product[]) => {\n      if (itemsPerPage === 'All') {\n        return phones;\n      }\n\n      const startIndex = (currentPage - 1) * parseInt(itemsPerPage, 10);\n\n      return phones.slice(startIndex, startIndex + parseInt(itemsPerPage, 10));\n    },\n    [itemsPerPage, currentPage],\n  );\n\n  const filteredPhones = useMemo(\n    () =>\n      products.filter(\n        (product) =>\n          product.category === category &&\n          (query === null ||\n            query === '' ||\n            product.name.toLowerCase().includes(query.toLowerCase())),\n      ),\n    [products, query, category],\n  );\n\n  const product = useMemo(\n    () =>\n      sortProducts(\n        filteredPhones,\n        (searchParams.get('sort') as SortOption) || 'age',\n      ),\n    [filteredPhones, searchParams],\n  );\n\n  const paginatedProducts = useMemo(\n    () => paginatePhones(product),\n    [paginatePhones, product],\n  );\n\n  const totalPages = useMemo(\n    () =>\n      itemsPerPage === 'All'\n        ? 1\n        : Math.ceil(product.length / parseInt(itemsPerPage, 10)),\n    [itemsPerPage, product],\n  );\n\n  useEffect(() => {\n    if (!searchParams.get('sort')) {\n      setSearchParams(updateSearchParams(searchParams, { sort: 'age' }));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (currentPage !== currentPageFromParams) {\n      setCurrentPage(currentPageFromParams);\n    }\n  }, [currentPageFromParams]);\n\n  return (\n    <main className={`${category}-page`}>\n      <div className={`${category}-page__container`}>\n        <PageIndicator productType={category} />\n        <h1 className={`${category}-page__title`}>\n          {category.slice(0, 1).toUpperCase() + category.slice(1)}\n        </h1>\n        <p\n          className={`${category}-page__subtitle`}\n        >{`${product.length} models`}</p>\n        {product.length > 0 ? (\n          <>\n            <div className={`${category}-page__navigation-filter`}>\n              <SelectTemplate\n                category={category}\n                onChange={handleOnChange}\n                value={sortPage}\n                sortBy=\"age\"\n              />\n              <SelectTemplate\n                category={category}\n                onChange={handleItemsPerPage}\n                value={itemsPerPage}\n                sortBy=\"page\"\n              />\n            </div>\n            <div data-cy=\"productList\" className={`${category}-page__row`}>\n              {paginatedProducts?.map((item) => (\n                <ProductCard key={item.id} card={item} />\n              ))}\n            </div>\n\n            {itemsPerPage !== 'All' && (\n              <Pagination\n                totalPages={totalPages}\n                currentPage={currentPage}\n                handlePageChange={handlePageChange}\n                category={category}\n              />\n            )}\n          </>\n        ) : (\n          <NoResults category={category} />\n        )}\n      </div>\n    </main>\n  );\n};\n","export const NotFound = () => {\n  return (\n    <main className=\"phones-page\">\n      <div className=\"phones-page__container\">\n        <p>Page not found</p>\n      </div>\n    </main>\n  );\n};\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../types/Products';\n\ntype ProductsState = {\n  products: Product[];\n};\n\nconst InitialState: ProductsState = {\n  products: [],\n};\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState: InitialState,\n  reducers: {\n    set: (state, action: PayloadAction<Product[]>) => {\n      // eslint-disable-next-line no-param-reassign\n      state.products = action.payload;\n    },\n  },\n});\n\nexport default productsSlice.reducer;\nexport const { set } = productsSlice.actions;\n","const BASE_URL = 'https://mate.academy/students-api';\n\nfunction wait(delay: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n}\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(\n  url: string,\n  method: RequestMethod = 'GET',\n  data: any = null,\n): Promise<T> {\n  const options: RequestInit = { method };\n\n  if (data) {\n    options.body = JSON.stringify(data);\n    options.headers = {\n      'Content-Type': 'application/json; charset=UTF-8',\n    };\n  }\n\n  return wait(300)\n    .then(() => fetch(BASE_URL + url, options))\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n  post: <T>(url: string, data: any) => request<T>(url, 'POST', data),\n  patch: <T>(url: string, data: any) => request<T>(url, 'PATCH', data),\n  delete: (url: string) => request(url, 'DELETE'),\n};\n","import { User } from '../../types/User';\nimport { client } from '../../helpers/fetchClient';\n\nexport const getUserByEmail = async (email: string) => {\n  const users = await client.get<User[]>(`/users?email=${email}`);\n\n  return users[0] || null;\n};\n\ntype UserData = Pick<User, 'name' | 'email'>;\n\nexport const createUser = async ({ email, name }: UserData) => {\n  return client.post<User>('/users', { email, name });\n};\n","/* eslint-disable no-param-reassign */\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { User } from '../types/User';\n\ntype ProductsState = {\n  user: User | null;\n  loading: boolean;\n  error: string | null;\n};\n\nconst InitialState: ProductsState = {\n  user: null,\n  loading: false,\n  error: null,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: InitialState,\n  reducers: {\n    setUser: (state, action: PayloadAction<User>) => {\n      state.user = action.payload;\n    },\n    setLoading: (state, action: PayloadAction<boolean>) => {\n      state.loading = action.payload;\n    },\n    setError: (state, action: PayloadAction<string>) => {\n      state.error = action.payload;\n    },\n  },\n});\n\nexport default userSlice.reducer;\nexport const { setUser, setLoading, setError } = userSlice.actions;\n","import classNames from 'classnames';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { createUser, getUserByEmail } from '../api/users';\nimport { User } from '../../types/User';\nimport { useAppDispatch } from '../../app/hooks';\nimport { setUser } from '../../features/userSlice';\n\nexport const AuthForm = () => {\n  const dispatch = useAppDispatch();\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [needToRegister, setNeedToRegister] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const saveUser = (user: User) => {\n    localStorage.setItem('user', JSON.stringify(user));\n    dispatch(setUser(user));\n  };\n\n  useLayoutEffect(() => {\n    const userData = localStorage.getItem('user');\n\n    if (!userData) {\n      return;\n    }\n\n    try {\n      const user = JSON.parse(userData) as User;\n\n      dispatch(setUser(user));\n    } catch (error) {\n      throw new Error(`${error}: couldn't handle the request`);\n    }\n  }, []);\n\n  const loadUser = async () => {\n    const user = await getUserByEmail(email);\n\n    if (user) {\n      saveUser(user);\n    } else {\n      setNeedToRegister(true);\n    }\n  };\n\n  const registerUser = () => {\n    return createUser({ name, email }).then(saveUser);\n  };\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n\n    setErrorMessage('');\n    setLoading(true);\n\n    try {\n      if (needToRegister) {\n        await registerUser();\n      } else {\n        await loadUser();\n      }\n    } catch (error) {\n      setErrorMessage('Something went wrtong');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"box mt-5\">\n      <h1 className=\"title is-3\">\n        {needToRegister ? 'You need to register' : 'Log in to open the source'}\n      </h1>\n\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"user-email\">\n          Email\n        </label>\n\n        <div\n          className={classNames('control has-icons-left', {\n            'is-loading': loading,\n          })}\n        >\n          <input\n            type=\"email\"\n            id=\"user-email\"\n            className={classNames('input', {\n              'is-danger': !needToRegister && errorMessage,\n            })}\n            placeholder=\"Enter your email\"\n            disabled={loading || needToRegister}\n            value={email}\n            required\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-envelope\" />\n          </span>\n        </div>\n\n        {!needToRegister && errorMessage && (\n          <p className=\"help is-danger\">{errorMessage}</p>\n        )}\n      </div>\n\n      {needToRegister && (\n        <div className=\"field\">\n          <label className=\"label\" htmlFor=\"user-name\">\n            Your Name\n          </label>\n\n          <div\n            className={classNames('control has-icons-left', {\n              'is-loading': loading,\n            })}\n          >\n            <input\n              type=\"text\"\n              id=\"user-name\"\n              className={classNames('input', {\n                'is-danger': needToRegister && errorMessage,\n              })}\n              placeholder=\"Enter your name\"\n              required\n              minLength={4}\n              disabled={loading}\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n\n            <span className=\"icon is-small is-left\">\n              <i className=\"fas fa-user\" />\n            </span>\n          </div>\n\n          {needToRegister && errorMessage && (\n            <p className=\"help is-danger\">{errorMessage}</p>\n          )}\n        </div>\n      )}\n\n      <div className=\"field\">\n        <button\n          type=\"submit\"\n          className={classNames('button is-primary', {\n            'is-loading': loading,\n          })}\n        >\n          {needToRegister ? 'Register' : 'Login'}\n        </button>\n      </div>\n    </form>\n  );\n};\n","import './TextDescriptionTemplate.scss';\n\ntype Props = {\n  text: string;\n  value: string;\n};\n\nexport const TextDescriptionTemplate: React.FC<Props> = ({ text, value }) => (\n  <div className=\"product-details-description__text-container\">\n    <div className=\"description-text-template\">{text}</div>\n    <div className=\"description-value-template\">{value}</div>\n  </div>\n);\n","import { ProductDetails } from '../../../types/ProductDetails';\nimport { TextDescriptionTemplate } from '../TextDescription/TextDescriptionTemplate';\n\ninterface TechSpec {\n  key: keyof ProductDetails;\n  label: string;\n}\n\ntype Props = {\n  productInfo: ProductDetails;\n  specs: TechSpec[];\n};\n\nexport const TechSpecs: React.FC<Props> = ({ productInfo, specs }) => {\n  const getValueFromLabel = (label: string) => {\n    switch (label) {\n      case 'Screen':\n        return productInfo.screen;\n      case 'Resolution':\n        return productInfo.resolution;\n      case 'Processor':\n        return productInfo.processor;\n      case 'RAM':\n        return productInfo.ram;\n      case 'Built in memory':\n        return productInfo.capacity;\n      case 'Camera':\n        return productInfo.camera;\n      case 'Zoom':\n        return productInfo.zoom;\n      case 'Cell':\n        return productInfo.cell.join(' ');\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <>\n      {specs.map((spec) => {\n        return (\n          <TextDescriptionTemplate\n            key={spec.label}\n            text={spec.label}\n            value={getValueFromLabel(spec.label)}\n          />\n        );\n      })}\n    </>\n  );\n};\n","/* eslint-disable no-param-reassign */\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { ProductDetails } from '../types/ProductDetails';\n\ntype ProductInfoState = {\n  productInfo: ProductDetails | null;\n  selectedCapacity: string | null;\n  selectedColor: string | null;\n};\n\nconst InitialState: ProductInfoState = {\n  productInfo: null,\n  selectedCapacity: null,\n  selectedColor: null,\n};\n\nconst productsSlice = createSlice({\n  name: 'productInfo',\n  initialState: InitialState,\n  reducers: {\n    setProduct: (state, action: PayloadAction<ProductDetails>) => {\n      state.productInfo = action.payload;\n    },\n    setCapacity: (state, action: PayloadAction<string>) => {\n      state.selectedCapacity = action.payload;\n    },\n    setColor: (state, action: PayloadAction<string>) => {\n      state.selectedColor = action.payload;\n    },\n  },\n});\n\nexport default productsSlice.reducer;\nexport const { setProduct, setCapacity, setColor } = productsSlice.actions;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { API_PRODUCT_URL } from '../../../helpers/helper';\nimport favorite from '../../../images/favourites.svg';\nimport favouriteAdded from '../../../images/favourites-added.svg';\nimport { Product } from '../../../types/Products';\nimport { TechSpecs } from '../TechSpecs/TechSpecs';\nimport { useAppDispatch, useAppSelector } from '../../../app/hooks';\nimport { setCapacity, setColor } from '../../../features/productInfoSlice';\n\nexport const ProductInfoDetails = () => {\n  const dispatch = useAppDispatch();\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n  const { products } = useAppSelector((state) => state.products);\n  const { productInfo, selectedCapacity, selectedColor } = useAppSelector(\n    (state) => state.productInfo,\n  );\n  const [isClicked, setIsClicked] = useState(false);\n  const [isAdded, setIsAdded] = useState(false);\n  const [mainImage, setMainImage] = useState(\n    API_PRODUCT_URL + productInfo?.images[0],\n  );\n\n  const productToAdd = products.find(\n    (product) => product.phoneId === productInfo?.id,\n  );\n\n  const saveFavouriteOnClick = () => {\n    const favourites = localStorage.getItem(`favourites-${userId}`);\n    const favouritesArray = favourites ? JSON.parse(favourites) : [];\n\n    const favouriteProductToAdd = products.find(\n      (product) => product.phoneId === productInfo?.id,\n    );\n\n    if (favouriteProductToAdd) {\n      const index = favouritesArray\n        // eslint-disable-next-line\n        .findIndex(\n          (existingProduct: Product) =>\n            existingProduct.id === favouriteProductToAdd.id,\n        );\n\n      if (index === -1) {\n        favouritesArray.push(favouriteProductToAdd);\n        setIsAdded(true);\n      } else {\n        favouritesArray.splice(index, 1);\n        setIsAdded(false);\n      }\n\n      localStorage.setItem(\n        `favourites-${userId}`,\n        JSON.stringify(favouritesArray),\n      );\n      window.dispatchEvent(new Event('favouritesUpdated'));\n    }\n  };\n\n  const saveCartOnClick = () => {\n    const cart = localStorage.getItem(`cart-${userId}`);\n    const cartArray = cart ? JSON.parse(cart) : [];\n\n    if (\n      !productToAdd ||\n      cartArray.some((product: Product) => product.id === productToAdd.id)\n    ) {\n      return;\n    }\n\n    cartArray.push({ ...productToAdd, quantity: 1 });\n    setIsClicked(true);\n\n    localStorage.setItem(`cart-${userId}`, JSON.stringify(cartArray));\n    window.dispatchEvent(new Event('cartUpdated'));\n  };\n\n  const handleChangeMainImage = (\n    event: React.SyntheticEvent,\n    value: string,\n  ) => {\n    event?.preventDefault();\n    setMainImage(value);\n  };\n\n  const getLocalStorageItems = (key: string) => {\n    const items = localStorage.getItem(key);\n\n    return items ? JSON.parse(items) : [];\n  };\n\n  useEffect(() => {\n    setMainImage(API_PRODUCT_URL + productInfo?.images[0]);\n\n    const productsToAdd = products.find(\n      (product) => product.phoneId === productInfo?.id,\n    );\n\n    if (!productsToAdd) {\n      return;\n    }\n\n    const favouritesArray = getLocalStorageItems('favourites');\n\n    setIsAdded(\n      favouritesArray.some(\n        (product: Product) => product.id === productsToAdd.id,\n      ),\n    );\n\n    const cartArray = getLocalStorageItems('cart');\n\n    setIsClicked(\n      cartArray.some((product: Product) => product.id === productsToAdd.id),\n    );\n  }, [productInfo, products]);\n\n  if (!productInfo) {\n    return null;\n  }\n\n  return (\n    <section className=\"product-info__row\">\n      <div\n        className=\"\n          product-info__column\n          product-details\n          product-info__column_small\n        \"\n      >\n        {productInfo.images.map((item) => (\n          // eslint-disable-next-line\n          <div\n            key={item}\n            className=\"product-details__image\"\n            onClick={(event) =>\n              handleChangeMainImage(event, API_PRODUCT_URL + item)\n            }\n          >\n            <button className=\"product-details__image-link\" type=\"button\">\n              <img\n                src={API_PRODUCT_URL + item}\n                alt=\"ProductSmallImage\"\n                className=\"product-details__small-img\"\n              />\n            </button>\n          </div>\n        ))}\n      </div>\n      <div className=\"product-info__column\">\n        <div className=\"product-info__main-image\">\n          <div className=\"product-info__main-image-link\">\n            <img\n              src={mainImage}\n              alt=\"MainProductImage\"\n              className=\"product-info__main-img\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"product-info__column product-details-description\">\n        <div className=\"product-details-description__subtitle\">\n          Available colors\n        </div>\n        <div className=\"product-details-description__colors\">\n          {productInfo.colorsAvailable.map((color) => (\n            <Link\n              // eslint-disable-next-line\n              to={`/phones/${\n                productInfo.namespaceId\n              }-${productInfo.capacity.toLowerCase()}-${color.toLowerCase()}`}\n              key={color}\n              className={classNames('product-details-description__color', {\n                'active-color': selectedColor === color,\n              })}\n              style={{\n                backgroundColor: color === 'midnightgreen' ? '#004953' : color,\n              }}\n              onClick={() => dispatch(setColor(color))}\n            />\n          ))}\n        </div>\n        <div className=\"product-details-description__subtitle\">\n          Select capacity\n        </div>\n        <div className=\"product-details-description__capacity\">\n          {productInfo.capacityAvailable.map((button) => (\n            <Link\n              to={`/phones/${productInfo.namespaceId}-${button.toLowerCase()}-${\n                productInfo.color\n              }`}\n              key={button}\n              className={classNames(\n                'product-details-description__capacity-available',\n                {\n                  'active-capacity': selectedCapacity === button,\n                },\n              )}\n              onClick={() => dispatch(setCapacity(button))}\n            >\n              {button}\n            </Link>\n          ))}\n        </div>\n        <div className=\"prices\">\n          <div className=\"prices__discount\">${productInfo.priceDiscount}</div>\n          <div className=\"prices__full-price\">${productInfo.priceRegular}</div>\n        </div>\n        <div className=\"product-details-description__footer\">\n          <button\n            type=\"button\"\n            className={classNames({\n              'card-button-template': true,\n              'product-details-description__card': true,\n              'is-active': isClicked,\n            })}\n            onClick={saveCartOnClick}\n          >\n            {isClicked ? 'Added to cart' : 'Add to cart'}\n          </button>\n          <button\n            type=\"button\"\n            className=\"card-button-template__like\"\n            onClick={saveFavouriteOnClick}\n            style={{\n              backgroundColor: '#fff',\n            }}\n          >\n            <img\n              src={isAdded ? favouriteAdded : favorite}\n              alt=\"ProductImage\"\n              className=\"card-button-template__favourite\"\n            />\n          </button>\n        </div>\n        <TechSpecs\n          productInfo={productInfo}\n          specs={[\n            { key: 'screen', label: 'Screen' },\n            { key: 'resolution', label: 'Resolution' },\n            { key: 'processor', label: 'Processor' },\n            { key: 'ram', label: 'RAM' },\n          ]}\n        />\n      </div>\n      <div\n        className=\"\n        product-info__column\n        product-details\n        product-info__column_small\n      \"\n      >\n        ID: {productInfo.namespaceId}\n      </div>\n    </section>\n  );\n};\n","import React from 'react';\nimport { ProductDetails } from '../../../types/ProductDetails';\n\ntype Props = {\n  description: ProductDetails;\n};\n\nexport const AboutProduct: React.FC<Props> = ({ description }) => (\n  <div className=\"about-product__column column-product-about\">\n    <div className=\"column-product-about__title\">About</div>\n    {description.description.map((product) => (\n      <React.Fragment key={product.title}>\n        <div className=\"about-product__title\">{product.title}</div>\n        <div className=\"about-product__text\">{product.text}</div>\n      </React.Fragment>\n    ))}\n  </div>\n);\n","import { RotateLoader } from 'react-spinners';\n\nexport const Loader = () => (\n  <>\n    <div\n      style={{\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%)',\n      }}\n    >\n      <RotateLoader size={15} color=\"#D63636\" />\n    </div>\n  </>\n);\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport const BackToPage: React.FC = () => {\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"product-info__back back-to-page\">\n      <button\n        type=\"button\"\n        onClick={() => navigate(-1)}\n        className=\"back-to-page__link\"\n        data-cy=\"backButton\"\n      >\n        &lt;\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => navigate(-1)}\n        className=\"back-to-page__link\"\n        data-cy=\"backButton\"\n      >\n        Back\n      </button>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getProductDetails, API_PRODUCT_URL } from '../../helpers/helper';\nimport { ProductInfoDetails } from './ProductInfoDetails/ProductInfoDetails';\nimport './ProductDetailsPage.scss';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { TechSpecs } from './TechSpecs/TechSpecs';\nimport { AboutProduct } from './AboutProduct/AboutProduct';\nimport {\n  setCapacity,\n  setProduct,\n  setColor,\n} from '../../features/productInfoSlice';\nimport { Loader } from '../../components/Loader/Loader';\nimport { PageIndicator } from '../../components/PageIndicator/PageIndicator';\nimport { BackToPage } from '../../components/BackToPage/BackToPage';\nimport { ProductsSlider } from '../../components/ProductSlider/ProductSlider';\n\nexport const ProductDetailsPage: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { products } = useAppSelector((state) => state.products);\n  const { productInfo } = useAppSelector((state) => state.productInfo);\n  const [isLoading, setIsLoading] = useState(true);\n  const { productId } = useParams();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setIsLoading(true);\n        const response = await getProductDetails(\n          `${API_PRODUCT_URL}products/${productId}.json`,\n        );\n\n        dispatch(setProduct(response));\n        dispatch(setColor(response.color));\n        dispatch(setCapacity(response.capacity));\n      } catch (fetchError) {\n        throw new Error('Data could not be fetched');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [productId]);\n\n  if (!productInfo) {\n    if (isLoading) {\n      return <Loader />;\n    }\n\n    return <div>somewthing went wrong</div>;\n  }\n\n  return (\n    <main className=\"product-info\">\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className=\"product-info__container\">\n          <PageIndicator productName={productInfo.name} productType=\"Phones\" />\n          <BackToPage />\n          <div className=\"product-info__title\">{productInfo.name}</div>\n          <ProductInfoDetails />\n          <section\n            data-cy=\"productDescription\"\n            className=\"product-info__about about-product\"\n          >\n            <div className=\"about-product__row\">\n              <AboutProduct description={productInfo} />\n              <div className=\"about-product__column column-product-about\">\n                <div className=\"column-product-about__title\">Tech specs</div>\n                <TechSpecs\n                  productInfo={productInfo}\n                  specs={[\n                    { key: 'screen', label: 'Screen' },\n                    { key: 'resolution', label: 'Resolution' },\n                    { key: 'processor', label: 'Processor' },\n                    { key: 'ram', label: 'RAM' },\n                    { key: 'capacity', label: 'Built in memory' },\n                    { key: 'camera', label: 'Camera' },\n                    { key: 'zoom', label: 'Zoom' },\n                    { key: 'cell', label: 'Cell' },\n                  ]}\n                />\n              </div>\n            </div>\n          </section>\n          <ProductsSlider\n            title=\"You may also like\"\n            products={[...products].sort(() => Math.random() - 0.5)}\n          />\n        </div>\n      )}\n    </main>\n  );\n};\n","import { useMemo, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ProductCard } from '../../components/ProductCard/ProductCard';\nimport { Product } from '../../types/Products';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { useAppSelector } from '../../app/hooks';\nimport { BackToPage } from '../../components/BackToPage/BackToPage';\n\nexport const Favoutires: React.FC = () => {\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n  const retrievedData = localStorage.getItem(`favourites-${userId}`);\n  const favouritesFromStorage = retrievedData ? JSON.parse(retrievedData) : [];\n  const [favouritePhones] = useState<Product[]>(favouritesFromStorage);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const filteredByQueryPhones = useMemo(() => {\n    return favouritePhones.filter(\n      (product) =>\n        query === null ||\n        query === '' ||\n        product.name.toLowerCase().includes(query.toLowerCase()),\n    );\n  }, [favouritePhones, query]);\n\n  return (\n    <main className=\"phones-page\">\n      <div className=\"phones-page__container\">\n        <BackToPage />\n        <div className=\"phones-page__title\">Favourites</div>\n        <div className=\"phones-page__subtitle\">\n          {filteredByQueryPhones.length} models\n        </div>\n        {filteredByQueryPhones.length > 0 ? (\n          <div className=\"phones-page__row\">\n            {filteredByQueryPhones.map((phone) => (\n              <ProductCard key={phone.id} card={phone} />\n            ))}\n          </div>\n        ) : (\n          <NoResults category=\"favourites\" />\n        )}\n      </div>\n    </main>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { Product } from '../../types/Products';\nimport { API_PRODUCT_URL } from '../../helpers/helper';\nimport './CartDescription.scss';\nimport { useAppSelector } from '../../app/hooks';\n\ntype Props = {\n  phone: Product;\n  handleDeleteClick: (name: string) => void;\n  updateCart: (updatedCart: Product[]) => void;\n};\n\nexport const CartDescription: React.FC<Props> = ({\n  phone,\n  handleDeleteClick,\n  updateCart,\n}) => {\n  const { image, name, price, quantity } = phone;\n  const [count, setCount] = useState(quantity || 1);\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n\n  useEffect(() => {\n    const cartItems = localStorage.getItem(`cart-${userId}`);\n    const cartArray = cartItems ? JSON.parse(cartItems) : [];\n    const updatedCartArray = cartArray.map((item: Product) => {\n      if (item.id === phone.id) {\n        return { ...item, quantity: count };\n      }\n\n      return item;\n    });\n\n    localStorage.setItem(`cart-${userId}`, JSON.stringify(updatedCartArray));\n\n    updateCart(updatedCartArray);\n  }, [count]);\n\n  return (\n    <div className=\"column-cart-description\">\n      <div className=\"column-cart-description__content\">\n        <button\n          type=\"button\"\n          className=\"column-cart-description__close\"\n          onClick={() => handleDeleteClick(name)}\n          data-cy=\"cartDeleteButton\"\n        >\n          <div className=\"fa-icon__cross\">\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </button>\n        <div className=\"column-cart-description__image\">\n          <img\n            src={API_PRODUCT_URL + image}\n            alt=\"PhoneImage\"\n            className=\"column-cart-description__img\"\n          />\n        </div>\n        <div className=\"column-cart-description__title\">{name}</div>\n        <div className=\"column-cart-description__add-buttons\">\n          <button\n            type=\"button\"\n            className={classNames({\n              'column-cart-description__button': true,\n              'column-cart-description_remove': true,\n            })}\n            onClick={() => {\n              if (count > 1) {\n                setCount((prev) => prev - 1);\n              }\n            }}\n          >\n            -\n          </button>\n          <div className=\"column-cart-description__count\">{count}</div>\n          <button\n            type=\"button\"\n            className={classNames({\n              'column-cart-description__button': true,\n              'column-cart-description_add': true,\n            })}\n            onClick={() => {\n              if (count >= 1) {\n                setCount((prev) => prev + 1);\n              }\n            }}\n          >\n            +\n          </button>\n        </div>\n        <div className=\"column-cart-description__price\">${price * count}</div>\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { BackToPage } from '../../components/BackToPage/BackToPage';\n// eslint-disable-next-line max-len\nimport { CartDescription } from '../../components/CartDescription/CartDescription';\nimport { Product } from '../../types/Products';\nimport './CartPage.scss';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { useAppSelector } from '../../app/hooks';\n\nexport const CartPage: React.FC = () => {\n  const { user } = useAppSelector((state) => state.user);\n  const userId = user?.id;\n  const retrievedData = localStorage.getItem(`cart-${userId}`);\n  const cartFromStorage = retrievedData ? JSON.parse(retrievedData) : [];\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [totalItems, setTotalItems] = useState(0);\n  const [cartPhones, setCartPhones] = useState<Product[]>(cartFromStorage);\n  const [checkout, setCheckout] = useState(false);\n  let timeoutId: NodeJS.Timeout | null = null;\n\n  useEffect(() => {\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n\n  const calculateTotal = (cartArray: Product[]) => {\n    const newTotalPrice = cartArray.reduce(\n      (sum: number, item: Product) => sum + item.price * (item.quantity || 1),\n      0,\n    );\n    const newTotalItems = cartArray.reduce(\n      (sum: number, item: Product) => sum + (item.quantity || 1),\n      0,\n    );\n\n    setTotalPrice(newTotalPrice);\n    setTotalItems(newTotalItems);\n  };\n\n  const updateCart = (updatedCart: Product[]) => {\n    setCartPhones(updatedCart);\n    localStorage.setItem(`cart-${userId}`, JSON.stringify(updatedCart));\n    calculateTotal(updatedCart);\n  };\n\n  const handleDeleteClick = (name: string) => {\n    const updatedCart = cartPhones.filter((product) => product.name !== name);\n\n    updateCart(updatedCart);\n    window.dispatchEvent(new Event('cartUpdated'));\n  };\n\n  const handleCheckOutClick = () => {\n    setCheckout(true);\n\n    timeoutId = setTimeout(() => {\n      setCheckout(false);\n    }, 3000);\n  };\n\n  return (\n    <main className=\"cart-page\">\n      <div className=\"cart-page__container\">\n        <BackToPage />\n        <div className=\"cart-page__title\">Cart</div>\n        {cartPhones.length > 0 ? (\n          <div className=\"cart-page__row\">\n            <div className=\"cart-page__column cart-page__column_big\">\n              {cartPhones.map((phone) => (\n                <CartDescription\n                  key={phone.id}\n                  phone={phone}\n                  handleDeleteClick={handleDeleteClick}\n                  updateCart={updateCart}\n                />\n              ))}\n            </div>\n            <div\n              className={classNames({\n                'cart-page__column': true,\n                'cart-page__column_small': true,\n                'column-cart': true,\n              })}\n            >\n              <div className=\"column-cart__content\">\n                <div className=\"column-cart__price\">{`$${totalPrice}`}</div>\n                <div\n                  data-cy=\"productQauntity\"\n                  className=\"column-cart__quantity\"\n                >\n                  {`Total for ${totalItems} items`}\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"column-cart__checkout\"\n                  onClick={handleCheckOutClick}\n                >\n                  Checkout\n                </button>\n              </div>\n\n              {checkout && (\n                <div className=\"column-cart__content feature-message\">\n                  We are sorry, but this feature is not implemented yet\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <NoResults category=\"cart\" />\n        )}\n      </div>\n    </main>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Navigate, Route, Routes } from 'react-router-dom';\nimport { Footer } from './components/Footer/Footer';\nimport { Header } from './components/Header/Header';\nimport { Homepage } from './pages/Homepage';\nimport { API_URL, getProducts } from './helpers/helper';\nimport './App.scss';\nimport { ScrollToTop } from './helpers/ScrollToTop';\nimport { PhonesPage } from './pages/ProductsPages/PhonesPage';\nimport { TabletsPage } from './pages/ProductsPages/TabletsPage';\nimport { AccessoriesPage } from './pages/ProductsPages/AccessoriesPage';\nimport { NotFound } from './components/NotFound/NotFound';\nimport { useAppDispatch, useAppSelector } from './app/hooks';\nimport { set } from './features/productsSlice';\nimport { AuthForm } from './components/AuthForm/AuthForm';\nimport { ProductDetailsPage } from './pages/ProductDetails/ProductDetailsPage';\nimport { Favoutires } from './pages/Favourites/Favourites';\nimport { Loader } from './components/Loader/Loader';\nimport { CartPage } from './pages/CartPage/CartPage';\n\nconst App = () => {\n  const dispatch = useAppDispatch();\n  const { user } = useAppSelector((state) => state.user);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    async function fetchData() {\n      setIsLoading(true);\n      try {\n        const response = await getProducts(API_URL);\n\n        dispatch(set(response));\n      } catch (fetchError) {\n        throw new Error('Data could not be fetched');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  if (!user && !isLoading) {\n    return <AuthForm />;\n  }\n\n  return (\n    <div className=\"App\">\n      <ScrollToTop />\n      <div className=\"wrapper\">\n        <Header />\n        {isLoading ? (\n          <Loader />\n        ) : (\n          <Routes>\n            <Route path=\"/\" element={<Homepage />} />\n            <Route path=\"phones\">\n              <Route index element={<PhonesPage />} />\n              <Route path=\":productId\" element={<ProductDetailsPage />} />\n            </Route>\n            <Route path=\"tablets\">\n              <Route index element={<TabletsPage />} />\n              <Route path=\":productId\" element={<ProductDetailsPage />} />\n            </Route>\n            <Route path=\"accessories\">\n              <Route index element={<AccessoriesPage />} />\n              <Route path=\":productId\" element={<ProductDetailsPage />} />\n            </Route>\n            <Route path=\"favourites\" element={<Favoutires />} />\n            <Route path=\"cart\" element={<CartPage />} />\n            <Route path=\"*\" element={<NotFound />} />\n            <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        )}\n\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport productsSlice from '../features/productsSlice';\nimport productInfoSlice from '../features/productInfoSlice';\nimport userSlice from '../features/userSlice';\n\nexport const store = configureStore({\n  reducer: {\n    products: productsSlice,\n    productInfo: productInfoSlice,\n    user: userSlice,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n/* eslint-enable @typescript-eslint/indent */\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './app/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}